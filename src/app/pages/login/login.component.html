<main
  class="container d-flex flex-column justify-content-center align-items-center min-vh-100"
>
  <div class="row border rounded-4 bg-white shadow w-lg-75 overflow-hidden">
    <div class="col-12">
      <div class="row">
        <div class="col-lg-6">
          <img
            src="https://img.freepik.com/free-vector/hand-drawn-phoenix_23-2148486871.jpg"
            alt="login_pic"
            class="img-fluid"
          />
        </div>
        <div class="col-lg-6 d-flex">
          <form [formGroup]="loginForm" class="d-flex flex-column w-100 justify-content-evenly">
            <h1 class="border-bottom mb-3 mb-lg-0 font-monospace">Vítejte !</h1>

            <mat-form-field class="w-100 py-1 mt-4" appearance="outline">
              <mat-label>Přihlašovací jméno</mat-label>
              <input matInput formControlName="username" required />

              <mat-error class="fs-6 text-danger pt-1">
                <small *ngIf="loginFormControl.username.errors?.['required']">Zadejte přihlašovací jméno!</small>
              </mat-error>
            </mat-form-field>

            <mat-form-field class="w-100 py-1" appearance="outline">
              <mat-label>Heslo</mat-label>
              <input
                matInput
                [type]="isPasswordHidden ? 'password' : 'text'"
                formControlName="password"
                required
              />
              <button
                class="hide"
                mat-icon-button
                matSuffix
                (click)="isPasswordHidden = !isPasswordHidden"
                [attr.aria-label]="'Hide password'"
                [attr.aria-pressed]="isPasswordHidden"
              >
                <mat-icon>{{isPasswordHidden ? "visibility_off" : "visibility"}}</mat-icon>
              </button>

              <mat-error class="fs-6 text-danger">
                <small *ngIf="loginFormControl.password.errors?.['required']">Zadejte heslo!</small>
              </mat-error>
            </mat-form-field>

            <div class="d-flex flex-column w-100">
              <button
                class="btn btn-warning fs-6"
                type="button"
                (click)="onSubmit()"
                [disabled]="isLoading"
              >
                <span
                  class="spinner-border spinner-border-sm"
                  aria-hidden="true"
                  *ngIf="isLoading"
                ></span>
                <span role="status">{{
                  isLoading
                    ? " Přihlašování..."
                    : " Přihlásit se!"
                }}</span>
              </button>

              <small class="align-self-center mt-3 fw-light">
                Nemáte účet? <a routerLink="/registration" class="text-decoration-none">Udělejte si jeden zde!</a>
              </small>
              <small class="align-self-center mt-1 fw-light">
                Nebo? <a href="#" class="text-decoration-none">Jste jen zapomněl heslo?</a>
              </small>
            </div>
          </form>
        </div>
      </div>
      <div class="row">
        <div
          [ngClass]="{ 'opacity-0': !isLoginFailed }"
          class="text-danger pe-none text-center fs-6 text-bg-danger bg-opacity-10 py-1 fw-bold mt-3 mt-lg-0"
        >
          {{ errorMessage || "MESSAGE"}}
        </div>
      </div>
    </div>
  </div>
</main>
